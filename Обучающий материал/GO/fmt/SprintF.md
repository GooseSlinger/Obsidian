# Краткий гайд по `fmt.Sprintf` (Go)

`fmt.Sprintf(format, args...) string` — форматирует значения по шаблону и **возвращает строку** (ничего не печатает). Используй, когда нужна именно строка: имя файла, сообщение, лог, путь и т.п.

---

## Синтаксис (быстро)

~~~go
s := fmt.Sprintf("hello, %s!", name)           // "hello, Artem!"
file := fmt.Sprintf("%s.go", name)             // "main.go"
path := fmt.Sprintf("/users/%d/news/%d", u, n) // "/users/1/news/42"
~~~

---

## Частые глаголы (verbs)

| Глагол | Назначение                               | Пример                                         |
|:-----:|:------------------------------------------|:-----------------------------------------------|
| `%s`  | строка                                    | `fmt.Sprintf("%s.go", "main")` → `"main.go"`   |
| `%q`  | строка в кавычках + экранирование         | `fmt.Sprintf("%q", "a\nb")`                    |
| `%d`  | целое десятичное                          | `fmt.Sprintf("id=%d", 42)`                     |
| `%f`  | float (по умолчанию 6 знаков)             | `fmt.Sprintf("%.2f", 3.14159)` → `"3.14"`      |
| `%x`  | hex (нижний регистр)                      | `fmt.Sprintf("%x", 255)` → `"ff"`              |
| `%T`  | тип значения                              | `fmt.Sprintf("%T", time.Now())`                |
| `%v`  | универсальный вывод                       | `fmt.Sprintf("%v", user)`                      |
| `%+v` | как `%v`, но имена полей у структур       | `fmt.Sprintf("%+v", user)`                     |
| `%#v` | Go-литерал (как в коде)                   | `fmt.Sprintf("%#v", map[string]int{"a":1})`    |

---

## Ширина и точность

- `%.2f` — 2 знака после точки  
- `%9d` — минимальная ширина 9, слева пробелы  
- `%09d` — слева нули  
- `%-9s` — выравнивание по левому краю

~~~go
fmt.Sprintf("[%9d]", 7)    // "[        7]"
fmt.Sprintf("[%09d]", 7)   // "[000000007]"
fmt.Sprintf("[%-9s]", "x") // "[x        ]"
~~~

---

## Мини-рецепты

~~~go
// Имя файла
file := fmt.Sprintf("%s.%s", name, "go")

// Лог-лейбл с временем
label := fmt.Sprintf("req=%s ts=%s", reqID, time.Now().Format(time.RFC3339))

// Денежный вывод
price := fmt.Sprintf("$%.2f", amount)

// Табличное выравнивание
row := fmt.Sprintf("%-20s %8d", login, count)
~~~

---

## Важные нюансы

- Несоответствие типа и глагола **не паникует** — будет `%!verb(type=value)`  
  `fmt.Sprintf("%d", "foo")  // "%!d(string=foo)"`
- `%w` **не работает** в `Sprintf` (только в `fmt.Errorf`).
- Для SQL не подставляй через `Sprintf` — используй параметры драйвера.
