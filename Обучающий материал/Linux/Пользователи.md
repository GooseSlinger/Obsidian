# Описание

### **Что такое пользователи в Linux?**

Пользователь в Linux — это сущность, которая может взаимодействовать с системой. Каждый пользователь имеет уникальный идентификатор (UID), имя, пароль и определённые права доступа.

---

### **Основные понятия**

1. **User ID (UID):**    
    - Каждый пользователь имеет уникальный UID, который используется системой для внутреннего отслеживания.
    - Обычно:
        - UID 0: корневой пользователь (`root`).
        - UID 1–999: резервируются для системных пользователей.
        - UID ≥ 1000: обычные пользователи.
2. **Home Directory:**    
    - Это домашняя директория пользователя, где хранятся его личные файлы.
    - Обычно расположена в `/home/имя_пользователя`.
3. **Shell:**    
    - Командный интерпретатор, который запускается при входе пользователя.
    - Примеры: `bash`, `zsh`, `sh`.
4. **Password Hash:**    
    - Зашифрованный пароль хранится в `/etc/shadow` (не в `/etc/passwd`).
5. **Primary Group:**    
    - Основная группа, которой принадлежит пользователь.
6. **Secondary Groups:**    
    - Дополнительные группы, к которым принадлежит пользователь.

---

### **Файлы, связанные с пользователями**

1. **/etc/passwd:**    
    - Содержит информацию о всех пользователях.
    - Формат строки: `username:x:UID:GID:комментарий:home_directory:shell`
        - `username`: имя пользователя.
        - `x`: указывает, что пароль хранится в `/etc/shadow`.
        - `UID`: идентификатор пользователя.
        - `GID`: идентификатор основной группы.
        - `комментарий`: описание пользователя.
        - `home_directory`: путь к домашней директории.
        - `shell`: командный интерпретатор.
2. **/etc/shadow:**    
    - Хранит зашифрованные пароли пользователей.
    - Формат строки: `username:password:last_change:min:max:warn:inactive:expire:`
3. **/etc/group:**    
    - Содержит список групп и пользователей, которые им принадлежат.
    
---
# Основные команды

### 1. Создание пользователя
```bash
sudo adduser имя_пользователя
```
или
```bash
sudo useradd имя_пользователя
```
- `adduser`: более интерактивная команда, создающая домашнюю директорию и другие настройки.
- `useradd`: базовая команда без дополнительных параметров.
 
### 2. Удаление пользователя
```bash
sudo deluser имя_пользователя
```
или
```bash
sudo userdel имя_пользователя
```
Чтобы также удалить домашнюю директорию:
```bash
sudo userdel -r имя_пользователя
```

### 3. Изменение пароля пользователя
```bash
sudo passwd имя_пользователя
```
Для изменения собственного пароля:
```bash
passwd
```

### 4. Добавление пользователя в группу
```bash
sudo usermod -aG группа имя_пользователя
```

### 5. Изменение основной группы пользователя
```bash
sudo usermod -g новая_основная_группа имя_пользователя
```

### 6. Изменение имени пользователя
```bash
sudo usermod -l новое_имя старое_имя
```

### 7. Изменение домашней директории
```bash
sudo usermod -d /path/to/new/home имя_пользователя
```

### 8. Изменение командного интерпретатора
```bash
sudo chsh -s /bin/zsh имя_пользователя
```

---
# Полезные команды
## 1. Просмотр всех пользователей:
```bash
cat /etc/passwd
```

### 2. Просмотр информации о конкретном пользователе:
```bash
id имя_пользователя
```
или
```bash
finger имя_пользователя
```

### 3.  Проверка UID пользователя:
```bash
getent passwd имя_пользователя
```

### 4. Просмотр списка всех групп пользователя:
```bash
groups имя_пользователя
```

### 5. Добавление пользователя в sudo группу:
```bash
sudo usermod -aG sudo имя_пользователя
```